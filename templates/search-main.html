{% extends 'base_layout.html' %}
{% load static %}
{% block content %}




<section class="col col-20 col-m-max-width m-order-2">

</section>
<section class="col col-60 col-m-max-width m-order-1">
    {% if bowlers_count > 0  %}
    <section class="sec account-list">
        <h2 class="align-left" style="margin-top:-20px;">BOWLERS</h2>
        {% for bowler in bowlers %}
        <section class="account-preview">
            <div class='account-image'><img src="/account/data/profile-pic/{{ bowler.0 }}"></div>
            <div class="account-container account-half-width">
                <a href="/account/view/{{ bowler.0 }}" class="account-name">{{ bowler.1 }}</a>
                <a href="/account/view/{{ bowler.0 }}" class="account-location">{{ bowler.2 }}</a>
                <div class="account-stats">
                    <div class="stat"><a>{{ bowler.3 }}</a><span>RANK</span></div>
                    <div class="stat"><a>{{ bowler.4 }}</a><span>ATTEND</span></div>
                    <div class="stat"><a>{{ bowler.5 }}</a><span>WINS</span></div>
                    <div class="stat"><a>{{ bowler.6 }}</a><span>AVG</span></div>
                </div>
                <a href="/account/view/{{ bowler.0 }}" class="account-view btn btn-medium desktop-on">VIEW PROFILE</a>
            </div>
        </section>
        {% endfor


        {% if more_results_bowlers > 1 %}
        <a href="{% url 'bowlers:bowlers' %}search/{{ search }}/page/1" class="btn btn-medium search-more">SEE {{ more_results_bowlers }} MORE RESULTS</a>
        {% elif more_results_bowlers == 1 %}
        <a href="{% url 'bowlers:bowlers' %}search/{{ search }}/page/1" class="btn btn-medium search-more">SEE {{ more_results_bowlers }} MORE RESULT</a>
        {% endif %}
    </section>
    {% endif %}

    {% if tournament_upcoming_count > 0  %}
    <section class="sec account-list">
        <h2 class="align-left" style="margin-top:-20px;">UPCOMING TOURNAMENTS</h2>
        {% for tournament in tournament_upcoming %}
        <section class="tournament-preview">
            <div class='tournament-image'><img src="{{ tournament.sponsor_image }}"></div>
            <div class="tournament-container tournament-half-width">
            <a href="/tournaments/view/{{ tournament.tournament_id }}" class="tournament-name">{{ tournament.tournament_name }}</a><!--
            --><a href="/tournaments/view/{{ tournament.tournament_id }}" class="tournament-date">{{ tournament.tournament_date|date:'m/d/y' }}<i class="tournament-arrow icon-arrow-right"></i>{{ tournament.tournament_time|time:'h:iA' }}</a><!--
            --><a href="/tournaments/view/{{ tournament.tournament_id }}" class="tournament-center">THUNDERBOWL LANES - DETROIT, MI</a><!--
            --><a href="/tournaments/view/{{ tournament.tournament_id }}" class="tournament-spots">420 SPOTS RESERVED</a>
            </div>
            {% if not forloop.last %}<a class="btn tournament-button">RESERVE</a>{% else %}<a class="tournament-button-invert standard-button">RESERVED</a>
            {% endif %}
            {% if not forloop.last %}
            <div class="standard-underline"></div>
            {% endif %}
        </section>
        {% endfor %}
        {% if more_results_upcoming > 1 %}
        <a href="{% url 'bowlers:bowlers' %}search/{{ search }}/page/1" class="btn btn-medium search-more">SEE {{ more_results_upcoming }} MORE RESULTS</a>
        {% elif more_results_upcoming == 1 %}
        <a href="{% url 'bowlers:bowlers' %}search/{{ search }}/page/1" class="btn btn-medium search-more">SEE {{ more_results_upcoming }} MORE RESULT</a>
        {% endif %}
    </section>
    {% endif %}

    {% if tournament_results_count > 0 %}
    <section class="sec account-list">
        <h2 class="align-left" style="margin-top:-20px;">TOURNAMENT RESULTS</h2>
        {% for tournament in tournament_results %}
        <section class="tournament-preview">
            <img class='tournament-image' src="/media/{{ tournament.sponsor_image }}"><!--
            --><div class="tournament-container tournament-full-width">
            <a href="/tournaments/view/{{ tournament.tournament_id }}" class="tournament-name">{{ tournament.tournament_name }}</a><!--
            {% if tournament|winner == None %}
            --><a class="tournament-date">{{ tournament.tournament_date|date:'m/d/y' }}</a><!--
            {% else %}
            --><a class="tournament-date">{{ tournament.tournament_date|date:'m/d/y' }}<p class="tournament-winner-name" href="/account/view/{{ tournament|winner }}"><i class="tournament-winner icon-trophy"></i>{{  tournament|winner|bowler_name:True }}<span>&nbsp;({{ tournament|winner|getaverage:tournament}} AVG)</span></p></a><!--
            {% endif %}
            --><a href="/tournaments/view/{{ tournament.tournament_id }}" class="tournament-center">THUNDERBOWL LANES - DETROIT, MI</a><!--
            --><a href="/tournaments/view/{{ tournament.tournament_id }}" class="tournament-spots">{{ tournament|participants }} PARTICIPANTS</a>
            </div>
            {% if not forloop.last %}
            <div class="standard-underline"></div>
            {% endif %}
        </section>
        {% endfor %}
        {% if more_results_results > 1 %}
        <a href="{% url 'bowlers:bowlers' %}search/{{ search }}/page/1" class="btn btn-medium search-more">SEE {{ more_results_results }} MORE RESULTS</a>
        {% elif more_results_results == 1 %}
        <a href="{% url 'bowlers:bowlers' %}search/{{ search }}/page/1" class="btn btn-medium search-more">SEE {{ more_results_results }} MORE RESULT</a>
        {% endif %}
    </section>
    {% endif %}

    {% if centers_count > 0  %}
    <section class="sec account-list">
        <h2 class="align-left" style="margin-top:-20px;">CENTERS</h2>
        {% for bowler in bowlers %}
        <section class="account-preview">
            <div class='account-image'><img src="/media/{{ bowler.5 }}"></div>
            <div class="account-container account-half-width">
                <a href="/account/view/{{ bowler.0 }}" class="account-name">{{ center.1 }}</a>
                <a href="/account/view/{{ bowler.0 }}" class="account-location">{{ center.2 }}, {{ center.3 }}</a>
                <div class="account-stats">
                    <div class="stat"><a>2,052nd</a><span>RANK</span></div>
                    <div class="stat"><a>43</a><span>ATTEND</span></div>
                    <div class="stat"><a>106</a><span>WINS</span></div>
                    <div class="stat"><a>260</a><span>AVG</span></div>
                </div>
                <a href="/account/view/{{ bowler.0 }}" class="account-view btn btn-medium">VIEW PROFILE</a>
            </div>
        </section>
        {% endfor %}
        {% if more_results_centers > 1 %}
        <a href="{% url 'bowlers:bowlers' %}search/{{ search }}/page/1" class="btn btn-medium search-more">SEE {{ more_results_centers }} MORE RESULTS</a>
        {% elif more_results_centers == 1 %}
        <a href="{% url 'bowlers:bowlers' %}search/{{ search }}/page/1" class="btn btn-medium search-more">SEE {{ more_results_centers }} MORE RESULT</a>
        {% endif %}
    </section>
    {% endif %}

    {% if tournament_results_count == 0 and tournament_upcoming_count == 0 and bowlers_count == 0 and centers_count == 0%}
    <section class="sec account-list">
        <h2 class="no-results">NO RESULTS FOUND</h2>
    </section>
    {% else %}
        {% if tournament_results_count == 0 and tournament_upcoming_count != 0 and bowlers_count != 0 and centers_count != 0 %}
        <a class="no-results-bottom"> NO RESULTS IN TOURNAMENT RESULTS</a>
        {% elif tournament_results_count != 0 and tournament_upcoming_count == 0 and bowlers_count != 0 and centers_count != 0 %}
        <a class="no-results-bottom"> NO RESULTS IN UPCOMING TOURNAMENTS</a>
        {% elif tournament_results_count != 0 and tournament_upcoming_count != 0 and bowlers_count == 0 and centers_count != 0 %}
        <a class="no-results-bottom"> NO RESULTS IN BOWLERS</a>
        {% elif tournament_results_count != 0 and tournament_upcoming_count != 0 and bowlers_count != 0 and centers_count == 0 %}
        <a class="no-results-bottom"> NO RESULTS IN CENTERS</a>
        {% elif tournament_results_count == 0 and tournament_upcoming_count == 0 and bowlers_count != 0 and centers_count != 0 %}
        <a class="no-results-bottom"> NO RESULTS IN TOURNAMENTS</a>
        {% elif tournament_results_count == 0 and tournament_upcoming_count == 0 and bowlers_count == 0 and centers_count != 0 %}
        <a class="no-results-bottom"> NO RESULTS IN BOWLERS AND TOURNAMENTS</a>
        {% elif tournament_results_count == 0 and tournament_upcoming_count == 0 and bowlers_count != 0 and centers_count == 0 %}
        <a class="no-results-bottom"> NO RESULTS IN CENTERS AND TOURNAMENTS</a>
        {% elif tournament_results_count != 0 and tournament_upcoming_count != 0 and bowlers_count == 0 and centers_count == 0 %}
        <a class="no-results-bottom"> NO RESULTS IN CENTERS AND BOWLERS</a>
        {% elif tournament_results_count == 0 and tournament_upcoming_count != 0 and bowlers_count != 0 and centers_count == 0 %}
        <a class="no-results-bottom"> NO RESULTS IN CENTERS AND TOURNAMENT RESULTS</a>
        {% elif tournament_results_count == 0 and tournament_upcoming_count != 0 and bowlers_count == 0 and centers_count != 0 %}
        <a class="no-results-bottom"> NO RESULTS IN BOWLERS AND TOURNAMENT RESULTS</a>
        {% elif tournament_results_count != 0 and tournament_upcoming_count == 0 and bowlers_count != 0 and centers_count == 0 %}
        <a class="no-results-bottom"> NO RESULTS IN CENTERS AND UPCOMING TOURNAMENTS</a>
        {% elif tournament_results_count != 0 and tournament_upcoming_count == 0 and bowlers_count == 0 and centers_count != 0 %}
        <a class="no-results-bottom"> NO RESULTS IN BOWLERS AND UPCOMING TOURNAMENTS</a>
        {% endif %}
    {% endif %}
</section>
<section class="col col-20 col-m-max-width m-order-3">

</section>
<script>
    $(document).ready(function() {
    //set initial state.

    $('#bowlers-show-stats').change(function() {
        console.log('checked');
        if(this.checked) {
            $('.account-stats').show();
            $('.account-container').css('margin-top', '0px');
            $('.account-preview').css('height', '120px');
        }
        else{
            $('.account-stats').hide();
            $('.account-container').css('margin-top', '20px');
            $('.account-preview').css('height', '100px');
        }
    });
});
</script>
{% endblock %}